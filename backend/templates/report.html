{% extends "layout.html" %}

{% block title %}{{ _('Fact-Check Report for:') }} {{ report.video_title }}{% endblock %}

{% block content %}
<main class="container">
    <section class="input-section top-form">
        <input type="text" id="youtube-url" placeholder="{{ _('Paste a new YouTube link to check...') }}">
        <button id="factcheck-btn">{{ _('Run Another Fact Check') }}</button>
    </section>
    
    <section id="status-section" class="status-section" style="display: none;">
        <div class="loader"></div>
        <div id="status-log" class="status-log"></div>
    </section>

    <div class="report-wrapper">
        <div class="disclaimer-box">
            <p><strong>{{ _('Disclaimer:') }}</strong> {{ _('This report is AI-generated. It may contain errors and may not have access to real-time data. Please verify the information independently.') }}</p>
        </div>
        <header class="page-header">
            <p class="description">{{ _('Fact-check report for:') }}</p>
            <h1>{{ report.video_title }}</h1>
            <a href="{{ report.video_url }}" target="_blank" class="video-link">{{ _('Watch on YouTube') }}</a>
            <button id="share-btn" class="share-button-header">{{ _('Share Results') }}</button>
        </header>
        
        <img src="{{ report.thumbnail_url }}" alt="{{ _('Video Thumbnail') }}" class="video-thumbnail" onerror="this.style.display='none'">

        <section id="result-section" class="result-section">
            <div id="progress-container" class="progress-container"></div>
            <div id="confidence-container" class="confidence-container"></div>
            <div id="report-container" class="report-container"></div>
        </section>
    </div>
</main>
{% endblock %}

{% block extra_js %}
<script>
    const reportData = {{ report | tojson }};
</script>
<script src="{{ url_for('static', filename='report.js') }}"></script>
{% endblock %}